# Environment Variables Template
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to git (it's in .gitignore)

# ============================================================
# Core Application Settings
# ============================================================

# Admin User ID (MongoDB _id of admin user)
# Get this after creating your first user in the app
ADMIN_USER_ID=your_mongodb_user_id_here

# JWT Secret (generate a random string)
# Example: openssl rand -base64 32
JWT_SECRET=your_random_secret_here

# MongoDB Connection String
# Get this from MongoDB Atlas: https://www.mongodb.com/cloud/atlas
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority

# ============================================================
# File Storage (AWS S3 or Vercel Blob)
# ============================================================

# Option 1: AWS S3
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# S3 Log Bucket (Optional - enables unified logging from Vercel/GitHub Actions)
# When set, agent workflow logs are written to S3 instead of local filesystem.
# This enables logging from serverless environments (Vercel webhooks, GitHub Actions).
# Logs are synced to the repo when workflow completes (status → Done).
# Uses same credentials as above (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
# AWS_S3_LOG_BUCKET=your-s3-bucket-name

# Option 2: Vercel Blob (recommended for Vercel deployments)
# Get this from Vercel: Project Settings → Blob
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxxxxxxxxxxxx

# ============================================================
# AI API Keys (Optional - use what you need)
# ============================================================

# OpenAI API Key
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxx

# Google Gemini API Key
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIzaSyxxxxxxxxxxxxx

# Anthropic API Key (for Claude)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxx

# ============================================================
# Third-Party APIs (Optional)
# ============================================================

# YouTube Data API Key
# Get from: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=AIzaSyxxxxxxxxxxxxx

# ============================================================
# GitHub Agents Workflow Configuration
# ============================================================
# Required for the GitHub agents workflow.
# See docs/template/github-agents-workflow/setup-guide.md for full setup guide.
#
# Setup steps:
# 1. Get a GitHub token with 'repo' scope
# 2. Set up a bot account (recommended)
# 3. Create a Telegram bot via @BotFather (optional)
# 4. Get your chat ID via: yarn telegram-setup
# 5. Set webhook after deployment: yarn telegram-webhook set <url>
#
# IMPORTANT: Each child project needs its own Telegram bot
# (A bot can only have ONE webhook URL)

# GitHub Configuration
# Your GitHub username or organization name
GITHUB_OWNER=your-github-username

# Your repository name
GITHUB_REPO=your-repo-name

# Your GitHub Project number (from URL: github.com/users/{owner}/projects/{NUMBER})
GITHUB_PROJECT_NUMBER=1

# 'user' for personal projects, 'org' for organization projects
GITHUB_OWNER_TYPE=user

# GitHub Personal Access Token with 'repo' and 'project' scopes
# Get from: GitHub Settings → Developer settings → Personal access tokens
GITHUB_TOKEN=ghp_xxxxxxxxxxxxx

# GitHub token for GitHub Actions (can be same as GITHUB_TOKEN)
PROJECT_TOKEN=ghp_xxxxxxxxxxxxx

# ============================================================
# Telegram Configuration
# ============================================================
# Required for notifications and approval workflow

# Telegram Bot Token from @BotFather
# Create a bot: https://t.me/BotFather
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# =============================================================
# Telegram Chat IDs - 3 Separate Chats for Different Notification Types
# =============================================================
# Run `yarn telegram-setup` to get your chat IDs
#
# TOPICS SUPPORT: You can use Telegram Topics (threads in supergroups)
# Format: chatId:threadId (e.g., -100123456789:42)
# Without thread ID, messages go to the General topic.
#
# TIP: Create separate Telegram chats/groups or use Topics in a single group
# to organize notifications by priority and frequency.
#
# You can use the same chat ID for all 3 categories, or split them to reduce
# information overload and mute less important notifications.

# Chat 1: Vercel Deployments (FYI - catch build/deploy errors)
# Frequency: Low (only on deployments)
# Priority: Medium (good to catch errors, not urgent)
# Examples:
#   VERCEL_TELEGRAM_CHAT_ID=-100123456789        (send to group)
#   VERCEL_TELEGRAM_CHAT_ID=-100123456789:42     (send to topic #42)
VERCEL_TELEGRAM_CHAT_ID=123456789

# Chat 2: GitHub Activity (FYI - issues, PRs, comments, reviews)
# Frequency: Medium (depends on GitHub activity)
# Priority: Low (informational, no immediate action needed)
GH_TELEGRAM_CHAT_ID=123456789

# Chat 3: Agent Workflow - Actionable (ACTION REQUIRED - approvals, merges, decisions)
# Frequency: High (active workflow)
# Priority: High (requires admin action)
AGENT_TELEGRAM_CHAT_ID=123456789

# Chat 4: Agent Workflow - Info (FYI - agent started, PR created, status updates)
# Frequency: High (active workflow)
# Priority: Low (informational, no action needed)
# If not set, falls back to AGENT_TELEGRAM_CHAT_ID
AGENT_INFO_TELEGRAM_CHAT_ID=123456789

# =============================================================
# Deprecated (for backward compatibility)
# =============================================================
# These will be used as fallbacks if category-specific IDs are not set.
# If you don't want to use separate chats, just set these and leave the
# category-specific IDs empty.

# Your Telegram Chat ID (fallback for all categories)
# Get via: yarn telegram-setup
LOCAL_TELEGRAM_CHAT_ID=123456789

# ============================================================
# Vercel Configuration (Optional)
# ============================================================

# Vercel API Token
# Get from: https://vercel.com/account/tokens
VERCEL_TOKEN=your_vercel_token_here

# Production App URL (Optional - Vercel provides this automatically)
# Vercel automatically sets VERCEL_PROJECT_PRODUCTION_URL with your stable production domain
# Only set this if you're using a custom domain or want to override for testing
# Local development can use http://localhost:3000
# NEXT_PUBLIC_APP_URL=http://localhost:3000

# Vercel Automatic Environment Variables (DO NOT SET - provided by Vercel):
# - VERCEL_PROJECT_PRODUCTION_URL: Your stable production domain
# - VERCEL_URL: Current deployment URL (changes per deployment)
# - VERCEL_ENV: Environment (production, preview, development)
# - VERCEL_REGION: Deployment region

# Vercel OIDC Token (auto-generated by Vercel, don't manually set)
# VERCEL_OIDC_TOKEN=xxxxxxxxxxxxx

# ============================================================
# Preview/Development Settings (Optional)
# ============================================================

# Local User ID (for development shortcuts)
LOCAL_USER_ID=your_mongodb_user_id_here

# Preview Environment Auto-Login
# MongoDB _id of test user to auto-login on Vercel preview deployments
# Set this ONLY for Preview environment in Vercel (not Production)
PREVIEW_USER_ID=your_test_user_id_here
